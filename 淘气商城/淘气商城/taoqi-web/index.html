<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>淘气商城</title>
	 <link rel="icon" href="assets/img/favicon.ico">

    <link rel="stylesheet" type="text/css" href="css/webbase.css" />
    <link rel="stylesheet" type="text/css" href="css/pages-JD-index.css" />
    <link rel="stylesheet" type="text/css" href="css/widget-jquery.autocomplete.css" />
    <link rel="stylesheet" type="text/css" href="css/widget-cartPanelView.css" />
	<script src="js/vue.js"></script>
	<script src="js/user.js"></script>
	<!-- axios -->
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

</head>

<body>
<div id="user">
<div id="nav-bottom">
	<!--顶部-->
	<div class="nav-top">
		<div class="top">
			<div class="py-container">
				<div class="shortcut">
					<ul class="fl" v-if="!isLogin">
						<li class="f-item">你还未登录！</li>
						<li class="f-item">
							<a href="login.html">登录</a> <span>
							<a href="register.html">注册</a></span>
						</li>
					</ul>
					<ul class="fl" v-if="isLogin">
						<li class="f-item">你好，{{user.nickName}}！</li>
						<li class="f-item">
							<a href="home-index.html">个人中心</a>
						</li>
					</ul>
					<ul class="fr" v-if="isLogin">
						<li class="f-item"><a @click="out">退出登录</a></li>
						<li class="f-item space"></li>
						<li class="f-item"><a>我的订单</a></li>
						<li class="f-item space"></li>
						<li class="f-item" id="service">
							<span>客户服务</span>
						</li>
					</ul>
				</div>
			</div>
		</div>

		<!--头部-->
		<div class="header">
			<div class="py-container">
				<div class="yui3-g Logo">
					<div class="yui3-u Left logoArea">
						<a class="logo-bd" title="淘气商城"></a>
					</div>
					<div class="yui3-u Center searchArea">
						<div class="search">
							<form action="" class="sui-form form-inline">
								<!--searchAutoComplete-->
								<div class="input-append">
									<input type="text" id="autocomplete" type="text" class="input-error input-xxlarge" />
									<button class="sui-btn btn-xlarge btn-danger" type="button">搜索</button>
								</div>
							</form>
						</div>
						<div class="hotwords">
							<ul>
								<li class="f-item">商城首发</li>
								<li class="f-item">亿元优惠</li>
								<li class="f-item">9.9元团购</li>
								<li class="f-item">每满99减30</li>
								<li class="f-item">亿元优惠</li>
								<li class="f-item">9.9元团购</li>
								<li class="f-item">办公用品</li>
							</ul>
						</div>
					</div>
					<div class="yui3-u Right shopArea" v-if="isLogin">
						<div class="fr shopcar">
							<div class="show-shopcar" id="shopcar">
								<span class="car"></span>
								<a class="sui-btn btn-default btn-xlarge" href="cart.html" target="_blank">
									<span>我的购物车</span>
									<i class="shopnum">0</i>
								</a>
							</div>
						</div>
					</div>
				</div>

				<div class="yui3-g NavList">
					<div class="yui3-u Left all-sort">
						<h4>全部商品分类</h4>
					</div>
					<div class="yui3-u Right"></div>
				</div>
			</div>
		</div>
	</div>
</div>
</div>
	<div class="sort">
		<div class="py-container">
			<div class="yui3-g SortList ">
				
				
				<div class="yui3-u Left all-sort-list">
						<div class="all-sort-list2" id="type">
							<div class="item bo" v-for="al in allocate">
								<h3><a href="">{{al.name}}</a></h3>
								<div class="item-list clearfix">
									<div class="subitem">
										<div v-for="(item, index) in alltcate" :key="index">
											<dl v-if="item.parent==al.id" :class="index">
												<dt><a href="">{{item.name}}</a></dt>
												<dd>
													<div v-for="(it, index) in threecate" :key="index">
														<div v-if="item.id==it.parent"><em><a
																	href="">{{it.name}}</a></em></div>
													</div>
												</dd>
											</dl>
										</div>
									
									</div>
								</div>
							</div>							
						</div>
					</div>
				
				<div class="yui3-u Center banerArea">
					<!--banner轮播-->
					<div id="myCarousel" data-ride="carousel" data-interval="4000" class="sui-carousel slide">
					  <ol class="carousel-indicators">
					    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
					    <li data-target="#myCarousel" data-slide-to="1"></li>
					    <li data-target="#myCarousel" data-slide-to="2"></li>
					  </ol>
					  <div class="carousel-inner">
					    <div class="active item">
					    <a href="http://baidu2.wypxj.com/">
					    	<img src="img/banner1.jpg"  />
					      </a>
					    </div>
					    <div class="item">
						 <a href="http://baidu2.wypxj.com/">
						<img src="img/banner2.jpg"  />
					     </a>
					    </div>
					    <div class="item">
						 <a href="http://baidu2.wypxj.com/">
						<img src="img/banner3.jpg"  />
						</a>

					    </div>
					  </div><a href="#myCarousel" data-slide="prev" class="carousel-control left">‹</a><a href="#myCarousel" data-slide="next" class="carousel-control right">›</a>
					</div>
				</div>
				<div class="yui3-u Right">
					<div class="news">
						<h4><em class="fl">品优购快报</em><span class="fr tip">更多 ></span></h4>
						<div class="clearix"></div>
						<ul class="news-list unstyled">
							<li>
								<span class="bold">[特惠]</span>备战开学季 全民半价购数码
							</li>
							<li>
								<span class="bold">[公告]</span>备战开学季 全民半价购数码
							</li>
							<li>
								<span class="bold">[特惠]</span>备战开学季 全民半价购数码
							</li>
							<li>
								<span class="bold">[公告]</span>备战开学季 全民半价购数码
							</li>
							<li>
								<span class="bold">[特惠]</span>备战开学季 全民半价购数码
							</li>
						</ul>
					</div>
					<ul class="yui3-g Lifeservice">
						<li class="yui3-u-1-4 life-item tab-item">
							<i class="list-item list-item-1"></i>
							<span class="service-intro">话费</span>
						</li>
						<li class="yui3-u-1-4 life-item tab-item">
							<i class="list-item list-item-2"></i>
							<span class="service-intro">机票</span>
						</li>
						<li class="yui3-u-1-4 life-item tab-item">
							<i class="list-item list-item-3"></i>
							<span class="service-intro">电影票</span>
						</li>
						<li class="yui3-u-1-4 life-item tab-item">
							<i class="list-item list-item-4"></i>
							<span class="service-intro">游戏</span>
						</li>
						<li class="yui3-u-1-4 life-item notab-item">
							<i class="list-item list-item-5"></i>
							<span class="service-intro">彩票</span>
						</li>
						<li class="yui3-u-1-4 life-item notab-item">
							<i class="list-item list-item-6"></i>
							<span class="service-intro">加油站</span>
						</li>
						<li class="yui3-u-1-4 life-item notab-item">
							<i class="list-item list-item-7"></i>
							<span class="service-intro">酒店</span>
						</li>
						<li class="yui3-u-1-4 life-item notab-item">
							<i class="list-item list-item-8"></i>
							<span class="service-intro">火车票</span>
						</li>
						<li class="yui3-u-1-4 life-item  notab-item">
							<i class="list-item list-item-9"></i>
							<span class="service-intro">众筹</span>
						</li>
						<li class="yui3-u-1-4 life-item notab-item">
							<i class="list-item list-item-10"></i>
							<span class="service-intro">理财</span>
						</li>
						<li class="yui3-u-1-4 life-item notab-item">
							<i class="list-item list-item-11"></i>
							<span class="service-intro">礼品卡</span>
						</li>
						<li class="yui3-u-1-4 life-item notab-item">
							<i class="list-item list-item-12"></i>
							<span class="service-intro">白条</span>
						</li>
					</ul>
					<div class="life-item-content">
						<div class="life-detail">
							<i class="close">关闭</i>
							<p>话费充值</p>
							<form action="" class="sui-form form-horizontal">
								号码：<input type="text" id="inputphoneNumber" placeholder="输入你的号码" />
							</form>
							<button class="sui-btn btn-danger">快速充值</button>
						</div>
						<div class="life-detail">
							<i class="close">关闭</i> 机票
						</div>
						<div class="life-detail">
							<i class="close">关闭</i> 电影票
						</div>
						<div class="life-detail">
							<i class="close">关闭</i> 游戏
						</div>
					</div>
					<div class="ads">
						<img src="img/ad1.png" />
					</div>
				</div>
			</div>
		</div>
	</div>

	<!--喜欢-->
	<div class="like" id="like">
		<div class="py-container">
			<div class="title">
				<h3 class="fl">猜你喜欢</h3>
				<b class="border"></b>
				<a href="javascript:;" class="fr tip changeBnt" @click="change"><i></i>换一换</a>
			</div>
			<div class="bd">
				<ul class="clearfix yui3-g Favourate picLB" id="picLBxxl">
					<li class="yui3-u-1-6"  v-for="item,i in list">
						<dl class="picDl jilu">
							<dd>
								<a :href="'item.html?id='+item.id" class="pic"><img :src="item.imgSrc" alt="" width=140/></a>
								<div class="like-text">
									<p>{{item.name}}</p>
									<p>{{item.info}}</p>
									<h3>
										￥{{item.price}}
									</h3>
								</div>
							</dd>
						</dl>
					</li>
				</ul>
			</div>
		</div>
	</div>


	<div id="list" class="floor">
		<div class="py-container">
			<div class="title floors">
				<h3 class="fl">商品列表</h3>
				<b class="border"></b>
				<a href="javascript:;" class="fr tip changeBnt" @click="change(1)"><i></i>下一页</a>
				<a href="javascript:;" class="fr tip changeBnt" @click="change(-1)"><i></i>上一页</a>
			</div>
			<div class="bd">
				<ul class="clearfix yui3-g Favourate picLB" id="picLBxxl">
					<li class="yui3-u-1-6"  v-for="item,i in list">
						<dl class="picDl jilu">
							<dd>
								<a :href="'item.html?id='+item.id" class="pic"><img :src="item.imgSrc" alt="" width=140 /></a>
								<div class="like-text">
									<p>{{item.name}}</p>
									<p>{{item.info}}</p>
									<h3>
										￥{{item.price}}
									</h3>
								</div>
							</dd>
						</dl>
					</li>
				</ul>
			</div>
		</div>
	</div>

	<!-- 底部栏位 -->
	<!--页面底部-->
<div class="clearfix footer">
	<div class="py-container">
		<div class="footlink">
			<div class="Mod-service">
				<ul class="Mod-Service-list">
					<li class="grid-service-item intro  intro1">

						<i class="serivce-item fl"></i>
						<div class="service-text">
							<h4>正品保障</h4>
							<p>正品保障，提供发票</p>
						</div>

					</li>
					<li class="grid-service-item  intro intro2">

						<i class="serivce-item fl"></i>
						<div class="service-text">
							<h4>正品保障</h4>
							<p>正品保障，提供发票</p>
						</div>

					</li>
					<li class="grid-service-item intro  intro3">

						<i class="serivce-item fl"></i>
						<div class="service-text">
							<h4>正品保障</h4>
							<p>正品保障，提供发票</p>
						</div>

					</li>
					<li class="grid-service-item  intro intro4">

						<i class="serivce-item fl"></i>
						<div class="service-text">
							<h4>正品保障</h4>
							<p>正品保障，提供发票</p>
						</div>

					</li>
					<li class="grid-service-item intro intro5">

						<i class="serivce-item fl"></i>
						<div class="service-text">
							<h4>正品保障</h4>
							<p>正品保障，提供发票</p>
						</div>

					</li>
				</ul>
			</div>
			<div class="clearfix Mod-list">
				<div class="yui3-g">
					<div class="yui3-u-1-6">
						<h4>购物指南</h4>
						<ul class="unstyled">
							<li>购物流程</li>
							<li>会员介绍</li>
							<li>生活旅行/团购</li>
							<li>常见问题</li>
							<li>购物指南</li>
						</ul>

					</div>
					<div class="yui3-u-1-6">
						<h4>配送方式</h4>
						<ul class="unstyled">
							<li>上门自提</li>
							<li>211限时达</li>
							<li>配送服务查询</li>
							<li>配送费收取标准</li>
							<li>海外配送</li>
						</ul>
					</div>
					<div class="yui3-u-1-6">
						<h4>支付方式</h4>
						<ul class="unstyled">
							<li>货到付款</li>
							<li>在线支付</li>
							<li>分期付款</li>
							<li>邮局汇款</li>
							<li>公司转账</li>
						</ul>
					</div>
					<div class="yui3-u-1-6">
						<h4>售后服务</h4>
						<ul class="unstyled">
							<li>售后政策</li>
							<li>价格保护</li>
							<li>退款说明</li>
							<li>返修/退换货</li>
							<li>取消订单</li>
						</ul>
					</div>
					<div class="yui3-u-1-6">
						<h4>特色服务</h4>
						<ul class="unstyled">
							<li>夺宝岛</li>
							<li>DIY装机</li>
							<li>延保服务</li>
							<li>品优购E卡</li>
							<li>品优购通信</li>
						</ul>
					</div>
					<div class="yui3-u-1-6">
						<h4>帮助中心</h4>
						<img src="img/wx_cz.jpg">
					</div>
				</div>
			</div>
			<div class="Mod-copyright">
				<ul class="helpLink">
					<li>关于我们<span class="space"></span></li>
					<li>联系我们<span class="space"></span></li>
					<li>关于我们<span class="space"></span></li>
					<li>商家入驻<span class="space"></span></li>
					<li>营销中心<span class="space"></span></li>
					<li>友情链接<span class="space"></span></li>
					<li>关于我们<span class="space"></span></li>
					<li>营销中心<span class="space"></span></li>
					<li>友情链接<span class="space"></span></li>
					<li>关于我们</li>
				</ul>
				<p>地址：北京市昌平区建材城西路金燕龙办公楼一层 邮编：100096 电话：400-618-4000 传真：010-82935100</p>
				<p>京ICP备08001421号京公网安备110108007702</p>
			</div>
		</div>
	</div>
</div>
<!--页面底部END-->
	<!-- 楼层位置 -->
	<div id="floor-index" class="floor-index">
		<ul>
			<li>
				<a class="num" href="javascript:;" style="display: none;">1F</a>
				<a class="word" href="javascript;;" style="display: block;">家用电器</a>
			</li>
			<li>
				<a class="num" href="javascript:;" style="display: none;">2F</a>
				<a class="word" href="javascript;;" style="display: block;">手机通讯</a>
			</li>
			<li>
				<a class="num" href="javascript:;" style="display: none;">3F</a>
				<a class="word" href="javascript;;" style="display: block;">电脑办公</a>
			</li>
			<li>
				<a class="num" href="javascript:;" style="display: none;">4F</a>
				<a class="word" href="javascript;;" style="display: block;">家居家具</a>
			</li>
			<li>
				<a class="num" href="javascript:;" style="display: none;">5F</a>
				<a class="word" href="javascript;;" style="display: block;">运动户外</a>
			</li>
		</ul>
	</div>

<script type="text/javascript" src="js/plugins/jquery/jquery.min.js"></script>
<script type="text/javascript">
$(function(){
	$("#service").hover(function(){
		$(".service").show();
	},function(){
		$(".service").hide();
	});
	$("#shopcar").hover(function(){
		$("#shopcarlist").show();
	},function(){
		$("#shopcarlist").hide();
	});
})
</script>
<script type="text/javascript" src="js/model/cartModel.js"></script>
<script type="text/javascript" src="js/czFunction.js"></script>
<script type="text/javascript" src="js/plugins/jquery.easing/jquery.easing.min.js"></script>
<script type="text/javascript" src="js/plugins/sui/sui.min.js"></script>
<script type="text/javascript" src="js/pages/index.js"></script>
<script type="text/javascript" src="js/widget/cartPanelView.js"></script>
<script type="text/javascript" src="js/widget/jquery.autocomplete.js"></script>
<script type="text/javascript" src="js/widget/nav.js"></script>
</body>

<script>
	let user=new Vue({
		el:"#user",
		data:{
			user:{},
			isLogin:false
		},
		mounted:function () {
			this.check()
		},
		methods:{
			check(){
				let temp=getUser();
				if(temp!=null)
				{
					this.isLogin=true
					this.user=temp;
					return
				}else
				{
					this.isLogin=false
					this.user=null;
				}
			},
			out()
			{
				this.isLogin=false
				localStorage.removeItem("taoqi_jwt")
			}
		}
	})
</script>

<script>
	let like=new Vue({
		el:"#like",
		data:{
			list:[],
			prices:[]
		},
		mounted:function () {
			this.get()
		},
		methods:{
			get(){
				fetch("http://127.0.0.1:8080/api-product/product/like")
						.then(response => response.json())
						.then(data=>
						{
							if(data.code==200)
							{
								this.list=data.data
								for (let i = 0; i < this.list.length; i++) {
									this.prices[i]=JSON.parse(this.list[i].sku)
								}
							}
						})
			},
			change(){
				fetch("http://127.0.0.1:8080/api-product/product/like")
						.then(response => response.json())
						.then(data=>
						{
							if(data.code==200)
							{
								this.list=data.data
								for (let i = 0; i < this.list.length; i++) {
									this.prices[i]=JSON.parse(this.list[i].sku)
								}
							}
						})
			}
		}
	})
</script>

<script>
	let list=new Vue({
		el:"#list",
		data:{
			list:[],
			page:0
		},
		mounted:function () {
			this.get()
		},
		methods:{
			get(){
				fetch("http://127.0.0.1:8080/api-product/product/get?page="+this.page+"&size=6")
						.then(response => response.json())
						.then(data=>
						{
							if(data.code==200)
							{
								this.list=data.data
							}
						})
			},
			change(i){
				this.page+=i;
				if(this.page<0)
				{
					this.page=0;
				}
				fetch("http://127.0.0.1:8080/api-product/product/get?page="+this.page+"&size=6")
						.then(response => response.json())
						.then(data=>
						{
							if(data.code==200)
							{
								if(data.data.length==0)
								{
									alert("已经没有更多的商品数据")
								}else
								{
									this.list=data.data
								}
							}
						})
			}
		}
	})
</script>

<script>
		let vm = new Vue({
			el: '#type',
			data: {
				//所有分类
				allcata: [],
				//一级分类
				allocate: [],
				//二级分类
				alltcate: [],
				//第二级分类缓存
				allthcate: [],
				//三级分类
				threecate: [],
				//三级分类缓存
				threehcate: [],
			},
			mounted() {
				this.allone();
				this.three();
			},

			methods: {
				//查询第一级分类
				allone: function () {				
					axios.get("http://127.0.0.1:8080/api-type/type/classification")
						.then((response) => {
							this.allocate = response.data;
							for (let i = 0; i < this.allocate.length; i++) {							
								this.twe(this.allocate[i].id)
								// console.log(this.alltcate)
							};

						})
						.catch(function (error) {
						})


				},
				//查询第二级分类
				twe: function (id) {
					axios.get("http://127.0.0.1:8080/api-type/type/selectid/" + id)
						.then((response) => {

							this.allthcate = response.data;
							this.alltcate = this.alltcate.concat(this.allthcate);
						})
						.catch(function (error) {
						})
				},

				//查询第三级分类

				three() {

					axios.get("http://127.0.0.1:8080/api-type/type/subclassification")
						.then((response)=> {
							this.threecate = response.data;

						})
						.catch(function (error) {
						})
				}
			}
		});
	</script>
</html>
